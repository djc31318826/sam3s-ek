<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAM3S Software Package: S:/projets/EK/SAM3S-EK/sam3s_project_trunk/libraries/memories/nandflash/RawNandFlash.c File Reference</title>
<link href="common/style.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
    <div id="body">
        <div id="title">SAM3S Software Package 2.1</div>
        <div id="banner"></div>

<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_bcc78437aa20a9e08ae4ab86f04766f4.html">libraries</a>      </li>
      <li><a class="el" href="dir_9d11e3e6f6141c04ec0c0a3a1b06ca89.html">memories</a>      </li>
      <li><a class="el" href="dir_63d647a4383b87f7a55887366c6ee428.html">nandflash</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>RawNandFlash.c File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &quot;<a class="el" href="memories_8h_source.html">memories.h</a>&quot;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>

<p><a href="_raw_nand_flash_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#a64f314e17a1be8e6c8e09bb90b9ecb68">STATUS_READY</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4a97f0d170bc8dc771aac6c4f38ad1d"></a><!-- doxytag: member="RawNandFlash.c::STATUS_ERROR" ref="ae4a97f0d170bc8dc771aac6c4f38ad1d" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>STATUS_ERROR</b>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#ad702e3436a8ef5e32a52c15958544261">COMMAND_READ_1</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9bff37515e207cf26a77252259f19fb0"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_READ_2" ref="a9bff37515e207cf26a77252259f19fb0" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_READ_2</b>&nbsp;&nbsp;&nbsp;0x30</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3be7aaa6c16c27c91393a50d2ff2a2dc"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_COPYBACK_READ_1" ref="a3be7aaa6c16c27c91393a50d2ff2a2dc" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_COPYBACK_READ_1</b>&nbsp;&nbsp;&nbsp;0x00</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae09bcfc646dbde1dbd9ccc95cef6e06"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_COPYBACK_READ_2" ref="aae09bcfc646dbde1dbd9ccc95cef6e06" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_COPYBACK_READ_2</b>&nbsp;&nbsp;&nbsp;0x35</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92d82d032cc893306b123869b091d62d"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_COPYBACK_PROGRAM_1" ref="a92d82d032cc893306b123869b091d62d" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_COPYBACK_PROGRAM_1</b>&nbsp;&nbsp;&nbsp;0x85</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a544fc8eb35e16094ce5342610b8d504d"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_COPYBACK_PROGRAM_2" ref="a544fc8eb35e16094ce5342610b8d504d" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_COPYBACK_PROGRAM_2</b>&nbsp;&nbsp;&nbsp;0x10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae198aa0051709069a6ee5b1c82ee68eb"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_RANDOM_OUT" ref="ae198aa0051709069a6ee5b1c82ee68eb" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_RANDOM_OUT</b>&nbsp;&nbsp;&nbsp;0x05</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedb7143e0a866028f6a8de4794118778"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_RANDOM_OUT_2" ref="aedb7143e0a866028f6a8de4794118778" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_RANDOM_OUT_2</b>&nbsp;&nbsp;&nbsp;0xE0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a684ee0497f819f865b34c8db9348dd65"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_RANDOM_IN" ref="a684ee0497f819f865b34c8db9348dd65" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_RANDOM_IN</b>&nbsp;&nbsp;&nbsp;0x85</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af01a0c3f53edbb3b25d85954980cfe50"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_READID" ref="af01a0c3f53edbb3b25d85954980cfe50" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_READID</b>&nbsp;&nbsp;&nbsp;0x90</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93be7322bf9ac17217181017cc4644df"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_WRITE_1" ref="a93be7322bf9ac17217181017cc4644df" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_WRITE_1</b>&nbsp;&nbsp;&nbsp;0x80</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6b0ab0319694df22fa4aa746bfc85e4a"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_WRITE_2" ref="a6b0ab0319694df22fa4aa746bfc85e4a" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_WRITE_2</b>&nbsp;&nbsp;&nbsp;0x10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6bf55895f059e3df39741091260c3b9"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_ERASE_1" ref="af6bf55895f059e3df39741091260c3b9" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_ERASE_1</b>&nbsp;&nbsp;&nbsp;0x60</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af111fd9af551f8bc27ee5a03ccfed05d"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_ERASE_2" ref="af111fd9af551f8bc27ee5a03ccfed05d" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_ERASE_2</b>&nbsp;&nbsp;&nbsp;0xD0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a625384257d101c5e64ba3018422dd055"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_STATUS" ref="a625384257d101c5e64ba3018422dd055" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_STATUS</b>&nbsp;&nbsp;&nbsp;0x70</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac73c320ae33800a4870a2bc8c0981d5"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_RESET" ref="aac73c320ae33800a4870a2bc8c0981d5" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_RESET</b>&nbsp;&nbsp;&nbsp;0xFF</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#af6670bc021e05266b34c7cdc7854d8b1">COMMAND_READ_A</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d653b455875004376c2429c814631e0"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_READ_C" ref="a3d653b455875004376c2429c814631e0" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMMAND_READ_C</b>&nbsp;&nbsp;&nbsp;0x50</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a885ecddb31d9573ce2308949cb5618a4"></a><!-- doxytag: member="RawNandFlash.c::ENABLE_CE" ref="a885ecddb31d9573ce2308949cb5618a4" args="(raw)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ENABLE_CE</b>(raw)&nbsp;&nbsp;&nbsp;PIO_Clear(&amp;(raw-&gt;pinChipEnable))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a649019db6e464497afc328132c60b893"></a><!-- doxytag: member="RawNandFlash.c::DISABLE_CE" ref="a649019db6e464497afc328132c60b893" args="(raw)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>DISABLE_CE</b>(raw)&nbsp;&nbsp;&nbsp;PIO_Set(&amp;(raw-&gt;pinChipEnable))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a203d4c241060a53d4386ebd0640ea490"></a><!-- doxytag: member="RawNandFlash.c::WRITE_COMMAND" ref="a203d4c241060a53d4386ebd0640ea490" args="(raw, command)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>WRITE_COMMAND</b>(raw, command)&nbsp;&nbsp;&nbsp;{*((volatile unsigned char *) raw-&gt;commandAddress) = (unsigned char) command;}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab6f85cfde0947ff3447de9585d508278"></a><!-- doxytag: member="RawNandFlash.c::WRITE_COMMAND16" ref="ab6f85cfde0947ff3447de9585d508278" args="(raw, command)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>WRITE_COMMAND16</b>(raw, command)&nbsp;&nbsp;&nbsp;{*((volatile unsigned short *) raw-&gt;commandAddress) = (unsigned short) command;}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13f15c5d880ff87cd7fe05ccf0932d9f"></a><!-- doxytag: member="RawNandFlash.c::WRITE_ADDRESS" ref="a13f15c5d880ff87cd7fe05ccf0932d9f" args="(raw, address)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>WRITE_ADDRESS</b>(raw, address)&nbsp;&nbsp;&nbsp;{*((volatile unsigned char *) raw-&gt;addressAddress) = (unsigned char) address;}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af13f6699af1ec6cc077232cfb7430fa5"></a><!-- doxytag: member="RawNandFlash.c::WRITE_ADDRESS16" ref="af13f6699af1ec6cc077232cfb7430fa5" args="(raw, address)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>WRITE_ADDRESS16</b>(raw, address)&nbsp;&nbsp;&nbsp;{*((volatile unsigned short *) raw-&gt;addressAddress) = (unsigned short) address;}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a48a748b5710529a0997aa611afef3f91"></a><!-- doxytag: member="RawNandFlash.c::WRITE_DATA8" ref="a48a748b5710529a0997aa611afef3f91" args="(raw, data)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>WRITE_DATA8</b>(raw, <a class="el" href="filesystem_2fatfs__nandflash_2main_8c.html#a335622dac66619cb6b7e24da56046b05">data</a>)&nbsp;&nbsp;&nbsp;{*((volatile unsigned char *) raw-&gt;dataAddress) = (unsigned char) <a class="el" href="filesystem_2fatfs__nandflash_2main_8c.html#a335622dac66619cb6b7e24da56046b05">data</a>;}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae87493937329c00253330c7ef9a74fe8"></a><!-- doxytag: member="RawNandFlash.c::READ_DATA8" ref="ae87493937329c00253330c7ef9a74fe8" args="(raw)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>READ_DATA8</b>(raw)&nbsp;&nbsp;&nbsp;(*((volatile unsigned char *) raw-&gt;dataAddress))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab190fbb72dae6e350fb884bf92459f23"></a><!-- doxytag: member="RawNandFlash.c::WRITE_DATA16" ref="ab190fbb72dae6e350fb884bf92459f23" args="(raw, data)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>WRITE_DATA16</b>(raw, <a class="el" href="filesystem_2fatfs__nandflash_2main_8c.html#a335622dac66619cb6b7e24da56046b05">data</a>)&nbsp;&nbsp;&nbsp;{*((volatile unsigned short *) raw-&gt;dataAddress) = (unsigned short) <a class="el" href="filesystem_2fatfs__nandflash_2main_8c.html#a335622dac66619cb6b7e24da56046b05">data</a>;}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ee00fbc8efb9d4e3016346d5de38c78"></a><!-- doxytag: member="RawNandFlash.c::READ_DATA16" ref="a2ee00fbc8efb9d4e3016346d5de38c78" args="(raw)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>READ_DATA16</b>(raw)&nbsp;&nbsp;&nbsp;(*((volatile unsigned short *) raw-&gt;dataAddress))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#acb7f00da2da3d1bb3cb43e2ab8352358">MODEL</a>(raw)&nbsp;&nbsp;&nbsp;((struct <a class="el" href="struct_nand_flash_model.html">NandFlashModel</a> *) raw)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#a19786e06f0dedd9aefc23afda040c6a5">NUMERASETRIES</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#a21f88466325b39c7bc7c61dc88c9635a">NUMWRITETRIES</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#ad3f2910a11263146949315f2aee7c216">NUMCOPYTRIES</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#aafa2debe71a8cc374a074538bad48f9b">RawNandFlash_Initialize</a> (struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *raw, const struct <a class="el" href="struct_nand_flash_model.html">NandFlashModel</a> *model, unsigned int commandAddress, unsigned int addressAddress, unsigned int dataAddress, const <a class="el" href="struct_pin.html">Pin</a> pinChipEnable, const <a class="el" href="struct_pin.html">Pin</a> pinReadyBusy)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> instance based on the given model and physical interface.  <a href="#aafa2debe71a8cc374a074538bad48f9b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#a41f7a5588f2f6d0af4fd50e0aa1b7d0f">RawNandFlash_Reset</a> (const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *raw)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets a NandFlash device.  <a href="#a41f7a5588f2f6d0af4fd50e0aa1b7d0f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#a0e50b2ed249b82de832a69c949c0466d">RawNandFlash_ReadId</a> (const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *raw)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and returns the identifiers of a NandFlash chip.  <a href="#a0e50b2ed249b82de832a69c949c0466d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#a1e945e7ea4755f96eec868e008d977f6">RawNandFlash_EraseBlock</a> (const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *raw, unsigned short block)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erases the specified block of the device, retrying several time if it fails.  <a href="#a1e945e7ea4755f96eec868e008d977f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#a8eb8afee35de344a004e44c284f8b381">RawNandFlash_ReadPage</a> (const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *raw, unsigned short block, unsigned short page, void *<a class="el" href="filesystem_2fatfs__nandflash_2main_8c.html#a335622dac66619cb6b7e24da56046b05">data</a>, void *spare)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads the data and/or the spare areas of a page of a NandFlash into the provided buffers.  <a href="#a8eb8afee35de344a004e44c284f8b381"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#a0e00f2ced8e260da07d9d7e0147e0e1a">RawNandFlash_WritePage</a> (const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *raw, unsigned short block, unsigned short page, void *<a class="el" href="filesystem_2fatfs__nandflash_2main_8c.html#a335622dac66619cb6b7e24da56046b05">data</a>, void *spare)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes the data and/or the spare areas of a page of a NandFlash into the provided buffers.  <a href="#a0e00f2ced8e260da07d9d7e0147e0e1a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#a34b540b7ba1e8499d3a71b26ad21aa59">RawNandFlash_CopyPage</a> (const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *raw, unsigned short sourceBlock, unsigned short sourcePage, unsigned short destBlock, unsigned short destPage)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy the data in a page of the NandFlash device to an other page on that same chip.  <a href="#a34b540b7ba1e8499d3a71b26ad21aa59"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_raw_nand_flash_8c.html#a4ff5b6f53aceab1084edd2d3cacd80cd">RawNandFlash_CopyBlock</a> (const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *raw, unsigned short sourceBlock, unsigned short destBlock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copies the data of one whole block of a NandFlash device to another block.  <a href="#a4ff5b6f53aceab1084edd2d3cacd80cd"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> layer drives hardware-specific Bus Read and Bus Write operations to communicate with the NAND Flash device. It directly interacts with hardware's register to operate NAND Flash interface.The <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> layer code implement procedures to program basic NAND Flash operations. It takes care of issuing the correct sequences of write/read operations for each command. All functions in the layer are blocked i.e. they wait for the completion of an operation. <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> layer access NAND Flash device by SMC. </p>

<p>Definition in file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ad702e3436a8ef5e32a52c15958544261"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_READ_1" ref="ad702e3436a8ef5e32a52c15958544261" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMAND_READ_1&nbsp;&nbsp;&nbsp;0x00</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Nand flash commands </p>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00061">61</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<a class="anchor" id="af6670bc021e05266b34c7cdc7854d8b1"></a><!-- doxytag: member="RawNandFlash.c::COMMAND_READ_A" ref="af6670bc021e05266b34c7cdc7854d8b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMAND_READ_A&nbsp;&nbsp;&nbsp;0x00</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Nand flash commands (small blocks) </p>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00080">80</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<a class="anchor" id="acb7f00da2da3d1bb3cb43e2ab8352358"></a><!-- doxytag: member="RawNandFlash.c::MODEL" ref="acb7f00da2da3d1bb3cb43e2ab8352358" args="(raw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODEL</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">raw</td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((struct <a class="el" href="struct_nand_flash_model.html">NandFlashModel</a> *) raw)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Internal cast macros </p>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00108">108</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad3f2910a11263146949315f2aee7c216"></a><!-- doxytag: member="RawNandFlash.c::NUMCOPYTRIES" ref="ad3f2910a11263146949315f2aee7c216" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUMCOPYTRIES&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of tries for copying a block </p>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00115">115</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a19786e06f0dedd9aefc23afda040c6a5"></a><!-- doxytag: member="RawNandFlash.c::NUMERASETRIES" ref="a19786e06f0dedd9aefc23afda040c6a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUMERASETRIES&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of tries for erasing a block </p>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00111">111</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a21f88466325b39c7bc7c61dc88c9635a"></a><!-- doxytag: member="RawNandFlash.c::NUMWRITETRIES" ref="a21f88466325b39c7bc7c61dc88c9635a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUMWRITETRIES&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of tries for writing a block </p>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00113">113</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a64f314e17a1be8e6c8e09bb90b9ecb68"></a><!-- doxytag: member="RawNandFlash.c::STATUS_READY" ref="a64f314e17a1be8e6c8e09bb90b9ecb68" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_READY&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Nand flash chip status codes </p>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00057">57</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4ff5b6f53aceab1084edd2d3cacd80cd"></a><!-- doxytag: member="RawNandFlash.c::RawNandFlash_CopyBlock" ref="a4ff5b6f53aceab1084edd2d3cacd80cd" args="(const struct RawNandFlash *raw, unsigned short sourceBlock, unsigned short destBlock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char RawNandFlash_CopyBlock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *&nbsp;</td>
          <td class="paramname"> <em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>sourceBlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>destBlock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copies the data of one whole block of a NandFlash device to another block. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>raw</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sourceBlock</em>&nbsp;</td><td>Source block number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destBlock</em>&nbsp;</td><td>Destination block number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful; otherwise returns an NandCommon_ERROR_BADBLOCK. </dd></dl>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00780">780</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_raw_nand_flash_8c_a4ff5b6f53aceab1084edd2d3cacd80cd_cgraph.gif" border="0" usemap="#_raw_nand_flash_8c_a4ff5b6f53aceab1084edd2d3cacd80cd_cgraph" alt=""/></div>
<map name="_raw_nand_flash_8c_a4ff5b6f53aceab1084edd2d3cacd80cd_cgraph" id="_raw_nand_flash_8c_a4ff5b6f53aceab1084edd2d3cacd80cd_cgraph">
<area shape="rect" id="node3" href="_nand_flash_model_8h.html#a3b39f12040e553a9d783aaf4c75eca70" title="Returns the number of pages in one single block of a device." alt="" coords="232,29,485,59"/><area shape="rect" id="node6" href="_raw_nand_flash_8c.html#a34b540b7ba1e8499d3a71b26ad21aa59" title="Copy the data in a page of the NandFlash device to an other page on that same chip." alt="" coords="271,83,447,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a34b540b7ba1e8499d3a71b26ad21aa59"></a><!-- doxytag: member="RawNandFlash.c::RawNandFlash_CopyPage" ref="a34b540b7ba1e8499d3a71b26ad21aa59" args="(const struct RawNandFlash *raw, unsigned short sourceBlock, unsigned short sourcePage, unsigned short destBlock, unsigned short destPage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char RawNandFlash_CopyPage </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *&nbsp;</td>
          <td class="paramname"> <em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>sourceBlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>sourcePage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>destBlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>destPage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy the data in a page of the NandFlash device to an other page on that same chip. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>raw</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sourceBlock</em>&nbsp;</td><td>Source block number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sourcePage</em>&nbsp;</td><td>Source page number inside the source block. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destBlock</em>&nbsp;</td><td>Destination block number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destPage</em>&nbsp;</td><td>Destination page number inside the destination block. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful; otherwise returns an NandCommon_ERROR_BADBLOCK. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Both pages must have be even or odd; it is not possible to copy and even page to an odd page and vice-versa. </dd></dl>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00747">747</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1e945e7ea4755f96eec868e008d977f6"></a><!-- doxytag: member="RawNandFlash.c::RawNandFlash_EraseBlock" ref="a1e945e7ea4755f96eec868e008d977f6" args="(const struct RawNandFlash *raw, unsigned short block)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char RawNandFlash_EraseBlock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *&nbsp;</td>
          <td class="paramname"> <em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>block</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erases the specified block of the device, retrying several time if it fails. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>raw</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block</em>&nbsp;</td><td>Number of the physical block to erase. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful; otherwise returns NandCommon_ERROR_UNKNOWNMODEL. </dd></dl>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00589">589</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<a class="anchor" id="aafa2debe71a8cc374a074538bad48f9b"></a><!-- doxytag: member="RawNandFlash.c::RawNandFlash_Initialize" ref="aafa2debe71a8cc374a074538bad48f9b" args="(struct RawNandFlash *raw, const struct NandFlashModel *model, unsigned int commandAddress, unsigned int addressAddress, unsigned int dataAddress, const Pin pinChipEnable, const Pin pinReadyBusy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char RawNandFlash_Initialize </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *&nbsp;</td>
          <td class="paramname"> <em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="struct_nand_flash_model.html">NandFlashModel</a> *&nbsp;</td>
          <td class="paramname"> <em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>commandAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>addressAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>dataAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_pin.html">Pin</a>&nbsp;</td>
          <td class="paramname"> <em>pinChipEnable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_pin.html">Pin</a>&nbsp;</td>
          <td class="paramname"> <em>pinReadyBusy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes a <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> instance based on the given model and physical interface. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>raw</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>model</em>&nbsp;</td><td>Pointer to the underlying nand chip model. Can be 0. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>commandAddress</em>&nbsp;</td><td>Address at which commands are sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>addressAddress</em>&nbsp;</td><td>Address at which addresses are sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dataAddress</em>&nbsp;</td><td>Address at which data is sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pinChipEnable</em>&nbsp;</td><td><a class="el" href="struct_pin.html">Pin</a> controlling the CE signal of the NandFlash. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pinReadyBusy</em>&nbsp;</td><td><a class="el" href="struct_pin.html">Pin</a> used to monitor the ready/busy signal of the Nand. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful; otherwise returns NandCommon_ERROR_UNKNOWNMODEL. </dd></dl>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00496">496</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_raw_nand_flash_8c_aafa2debe71a8cc374a074538bad48f9b_cgraph.gif" border="0" usemap="#_raw_nand_flash_8c_aafa2debe71a8cc374a074538bad48f9b_cgraph" alt=""/></div>
<map name="_raw_nand_flash_8c_aafa2debe71a8cc374a074538bad48f9b_cgraph" id="_raw_nand_flash_8c_aafa2debe71a8cc374a074538bad48f9b_cgraph">
<area shape="rect" id="node3" href="_nand_flash_model_8h.html#af0d2201f38dc87285115be94d8eac916" title="Get the power of input, given a certain result, i.e. input^(power) = result." alt="" coords="220,29,369,59"/><area shape="rect" id="node6" href="_raw_nand_flash_8c.html#a0e50b2ed249b82de832a69c949c0466d" title="Reads and returns the identifiers of a NandFlash chip." alt="" coords="217,83,372,112"/><area shape="rect" id="node8" href="_raw_nand_flash_8c.html#a41f7a5588f2f6d0af4fd50e0aa1b7d0f" title="Resets a NandFlash device." alt="" coords="220,136,369,165"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0e50b2ed249b82de832a69c949c0466d"></a><!-- doxytag: member="RawNandFlash.c::RawNandFlash_ReadId" ref="a0e50b2ed249b82de832a69c949c0466d" args="(const struct RawNandFlash *raw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int RawNandFlash_ReadId </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *&nbsp;</td>
          <td class="paramname"> <em>raw</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and returns the identifiers of a NandFlash chip. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>raw</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>id1|(id2&lt;&lt;8)|(id3&lt;&lt;16)|(id4&lt;&lt;24) </dd></dl>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00562">562</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8eb8afee35de344a004e44c284f8b381"></a><!-- doxytag: member="RawNandFlash.c::RawNandFlash_ReadPage" ref="a8eb8afee35de344a004e44c284f8b381" args="(const struct RawNandFlash *raw, unsigned short block, unsigned short page, void *data, void *spare)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char RawNandFlash_ReadPage </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *&nbsp;</td>
          <td class="paramname"> <em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>spare</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads the data and/or the spare areas of a page of a NandFlash into the provided buffers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>raw</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block</em>&nbsp;</td><td>Number of the physical block to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>page</em>&nbsp;</td><td>Number of the page to read inside the given block. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Buffer where the data area will be read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spare</em>&nbsp;</td><td>Buffer where the spare area will be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful; otherwise returns 1. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>If one of the buffer pointer is 0, the corresponding area is not read. </dd></dl>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00626">626</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_raw_nand_flash_8c_a8eb8afee35de344a004e44c284f8b381_cgraph.gif" border="0" usemap="#_raw_nand_flash_8c_a8eb8afee35de344a004e44c284f8b381_cgraph" alt=""/></div>
<map name="_raw_nand_flash_8c_a8eb8afee35de344a004e44c284f8b381_cgraph" id="_raw_nand_flash_8c_a8eb8afee35de344a004e44c284f8b381_cgraph">
<area shape="rect" id="node3" href="_nand_flash_model_8h.html#a3b39f12040e553a9d783aaf4c75eca70" title="Returns the number of pages in one single block of a device." alt="" coords="229,29,483,59"/><area shape="rect" id="node6" href="_nand_flash_model_8h.html#affd24a1b02eda7edee884b41039d6d18" title="Returns the size of the data area of a page in bytes. take into account the spare zones size..." alt="" coords="241,107,471,136"/><area shape="rect" id="node9" href="_nand_flash_model_8h.html#a9243ade7ee7fa115841d4cd359d61428" title="Returns the size of the spare area of a page in bytes." alt="" coords="237,184,475,213"/><area shape="rect" id="node12" href="_nand_flash_model_8h.html#a6989853022f404297c37066178a69ade" title="Check if the given NandFlash model uses the &quot;small blocks/pages&quot;." alt="" coords="245,261,467,291"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a41f7a5588f2f6d0af4fd50e0aa1b7d0f"></a><!-- doxytag: member="RawNandFlash.c::RawNandFlash_Reset" ref="a41f7a5588f2f6d0af4fd50e0aa1b7d0f" args="(const struct RawNandFlash *raw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RawNandFlash_Reset </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *&nbsp;</td>
          <td class="paramname"> <em>raw</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resets a NandFlash device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>raw</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> instance. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00545">545</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0e00f2ced8e260da07d9d7e0147e0e1a"></a><!-- doxytag: member="RawNandFlash.c::RawNandFlash_WritePage" ref="a0e00f2ced8e260da07d9d7e0147e0e1a" args="(const struct RawNandFlash *raw, unsigned short block, unsigned short page, void *data, void *spare)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char RawNandFlash_WritePage </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> *&nbsp;</td>
          <td class="paramname"> <em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>spare</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes the data and/or the spare areas of a page of a NandFlash into the provided buffers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>raw</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_raw_nand_flash.html">RawNandFlash</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block</em>&nbsp;</td><td>Number of the physical block to write resides. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>page</em>&nbsp;</td><td>Number of the page to write inside the given block. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Buffer where the data area will be stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spare</em>&nbsp;</td><td>Buffer where the spare area will be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful; otherwise returns NandCommon_ERROR_BADBLOCK. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>If one of the buffer pointer is 0, the corresponding area is not written. </dd></dl>

<p>Definition at line <a class="el" href="_raw_nand_flash_8c_source.html#l00711">711</a> of file <a class="el" href="_raw_nand_flash_8c_source.html">RawNandFlash.c</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
