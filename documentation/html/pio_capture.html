<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAM3S Software Package: PIO Parallel Capture Example</title>
<link href="common/style.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
    <div id="body">
        <div id="title">SAM3S Software Package 2.1</div>
        <div id="banner"></div>

<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="page_examples.html">Examples for SAM3S-EK</a>      </li>
      <li><a class="el" href="page_examples_basic.html">Basic Examples</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>PIO Parallel Capture Example </h1>  </div>
</div>
<div class="contents">
<h2><a class="anchor" id="Purpose"></a>
Purpose</h2>
<p>The PIO Parallel Capture demonstrates how to read data from a CMOS digital image sensor, a high-speed parallel ADC, a DSP synchronous port in synchronous mode, etc.... using the PIO Controller.</p>
<h2><a class="anchor" id="Requirements"></a>
Requirements</h2>
<p>This package can only be used with sam3s-ek.</p>
<h2><a class="anchor" id="Description"></a>
Description</h2>
<p>The PIO Controller integrates an interface able to read data from a CMOS digital image sensor, a high-speed parallel ADC, a DSP synchronous port in synchronous mode, etc....</p>
<p>The application is ocmposed of 2 softwares:</p>
<ul>
<li>one for use the PIO Parallel Capture in send mode.</li>
<li>one for use the PIO Parallel Capture in receive mode.</li>
</ul>
<p>The use of 2 boards is required. Connect one to the other, and put one board in send mode and the second in receive mode. Different choice can be selected for use the data enable pins, or not, and for sample all data, or only one time out of two. Pins to be connected beetween the 2 boards:<br/>
 PA15 PIODCEN1<br/>
 PA16 PIODCEN2<br/>
 PA17 AD0<br/>
 PA18 AD1<br/>
 PA19 AD2/WKUP9<br/>
 PA20 AD3/WKUP10<br/>
 PA21 AD8<br/>
 PA22 AD9<br/>
 PA23 PIODCCLK<br/>
 PA24 PIODC0<br/>
 PA25 PIODC1<br/>
 PA26 PIODC2<br/>
 PA27 PIODC3<br/>
 PA28 PIODC4<br/>
 PA29 PIODC5<br/>
 PA30 PIODC6<br/>
 PA31 PIODC7<br/>
 And, of course: GND<br/>
</p>
<h2><a class="anchor" id="Usage"></a>
Usage</h2>
<ol type="1">
<li>Build the program and download it inside the evaluation board. Please refer to the <a href="http://www.atmel.com/dyn/resources/prod_documents/doc6224.pdf">SAM-BA User Guide</a>, the <a href="http://www.atmel.com/dyn/resources/prod_documents/doc6310.pdf">GNU-Based Software Development</a> application note or to the <a href="ftp://ftp.iar.se/WWWfiles/arm/Guides/EWARM_UserGuide.ENU.pdf">IAR EWARM User Guide</a>, depending on your chosen solution.</li>
<li>On the computer, open and configure a terminal application (e.g. HyperTerminal on Microsoft Windows) with these settings:<ul>
<li>115200 bauds</li>
<li>8 bits of data</li>
<li>No parity</li>
<li>1 stop bit</li>
<li>No flow control</li>
</ul>
</li>
<li>Connect the first board to the second board by connecting: PA15, PA16, PA23, PA24, PA25, PA26, PA27, PA28, PA29, PA30, PA31 and GND.</li>
<li>Start application of the first board.</li>
<li>In the terminal window, the following text should appear (values depend on the board and chip used): <div class="fragment"><pre class="fragment">      -- PIO Parallel Capture example x.x --
      -- SAM3S-EK
      -- Compiled: xxx xx xxxx xx:xx:xx --
      Frequency: 64 MHz
        Press r to Receive <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> on PPIO Parallel Capture
        Press s to Send <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> on PIO Parallel Capture
      ** SEND mode **
      This is <span class="keywordflow">for</span> debug purpose only !
      Frequency of PIO controller clock must be strictly superior to 2 times
      the <a class="code" href="dac12__sinewave_2main_8c.html#aea762e0e67fcafaf5b3cd61201769926">frequency</a> of the clock of the device which generates the parallel <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a>.

      Please, connect the second board, and put it in reception mode
        Press y to send <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> without <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> enables <a class="code" href="twi__slave_2main_8c.html#a85cc31d8e9f418dd6192e2589aa52529">pins</a>
        Press n to send <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> with <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> enables <a class="code" href="twi__slave_2main_8c.html#a85cc31d8e9f418dd6192e2589aa52529">pins</a>
      We send <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> without <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> enables <a class="code" href="twi__slave_2main_8c.html#a85cc31d8e9f418dd6192e2589aa52529">pins</a>
        Press a key
      We send <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> without <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> enables <a class="code" href="twi__slave_2main_8c.html#a85cc31d8e9f418dd6192e2589aa52529">pins</a>
        Press a key
</pre></div></li>
<li>Start application of the second board.</li>
<li>Put the software in send mode</li>
<li>In the terminal window, the following text should appear (values depend on the board and chip used): <div class="fragment"><pre class="fragment">      -- PIO Parallel Capture example x.x --
      -- SAM3S-EK
      -- Compiled: xxx xx xxxx xx:xx:xx --
      Frequency: 64 MHz
        Press r to Receive <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> on PIO Parallel Capture
        Press s to Send <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> on PIO Parallel Capture
      ** RECEIVE mode **
        Press y to samples the <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> when both <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> enables are active
        Press n to samples the <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> whatever the <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> enables are
      We receive <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> whatever the <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> enables are
        Press y to samples all the <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a>
        Press n to samples the <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> only one time out of two
      Whatever the <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> enables are, sample all the <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a>
      wait
      IT ENdOfBufferFull Callback
      0x3020100 0x7060504 0xB0A0908 0xF0E0D0C
      0x13121110 0x17161514 0x1B1A1918 0x1F1E1D1C
      0x23222120 0x27262524 0x2B2A2928 0x2F2E2D2C
      0x33323130 0x37363534 0x3B3A3938 0x3F3E3D3C
      Whatever the <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a> enables are, sample all the <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a>
      wait
</pre></div></li>
</ol>
<h2><a class="anchor" id="References"></a>
References</h2>
<ul>
<li><a class="el" href="pio__capture_2main_8c.html">pio_capture/main.c</a></li>
<li><a class="el" href="pio_8h.html">pio.h</a>, <a class="el" href="pio__it_8h.html">pio_it.h</a>, <a class="el" href="pio__capture_8c.html">pio_capture.c</a>, <a class="el" href="pio__capture_8h_source.html">pio_capture.h</a> </li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
