<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAM3S Software Package: SAM-GUI WGT ADS7843 Frontend</title>
<link href="common/style.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
    <div id="body">
        <div id="title">SAM3S Software Package 2.1</div>
        <div id="banner"></div>

<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>SAM-GUI WGT ADS7843 Frontend<br/>
<small>
[<a class="el" href="group___s_a_m_g_u_i___w_g_t___c_o_r_e___f_r_o_n_t_e_n_d.html">WGT Core Frontend</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p><div class="dynheader">
Collaboration diagram for SAM-GUI WGT ADS7843 Frontend:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___s_a_m_g_u_i___w_g_t___touchscreen__frontend.gif" border="0" alt="" usemap="#group______s__a__m__g__u__i______w__g__t______touchscreen____frontend"/>
<map name="group______s__a__m__g__u__i______w__g__t______touchscreen____frontend" id="group______s__a__m__g__u__i______w__g__t______touchscreen____frontend">
<area shape="rect" id="node1" href="group___s_a_m_g_u_i___w_g_t___c_o_r_e___f_r_o_n_t_e_n_d.html" title="WGT Core Frontend" alt="" coords="5,5,144,35"/></map>
</td></tr></table></center>
</div>
</p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ads7843_calib_parameters.html">Ads7843CalibParameters</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_a_m_g_u_i___w_g_t___touchscreen__frontend.html#gac3232fa82a700a925dd2563705185297">NB_SAMPLES</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_a_m_g_u_i___w_g_t___touchscreen__frontend.html#gab64c277271378db4c9320be6210eb4df">SAMPLING_PERIOD</a>&nbsp;&nbsp;&nbsp;10</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_a_m_g_u_i___w_g_t___touchscreen__frontend.html#gad552f2b780929f70e65b3beded6aea6c">gTsCalibrated</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_s_w_g_t_frontend.html">SWGTFrontend</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>sWGT_Frontend_ADS7843</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga10aff4f9afa3af13379d2ea61782e177"></a><!-- doxytag: member="SAMGUI_WGT_Touchscreen_frontend::sWGT_Frontend_ADS7843" ref="ga10aff4f9afa3af13379d2ea61782e177" args="" -->
const <a class="el" href="struct_s_w_g_t_frontend.html">SWGTFrontend</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>sWGT_Frontend_ADS7843</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The Touchscreen driver posts messages to the Widget message queue: </p>
<ul>
<li>
WGT_MSG_POINTER_RAW: pen pressed, provides uncalibrated-filtered pen position.  </li>
<li>
WGT_MSG_POINTER_PRESSED: pen pressed, provides calibrated-filtered pen position. </li>
<li>
WGT_MSG_POINTER: pen moved, provides calibrated-filtered pen position. </li>
<li>
<p class="startli">WGT_MSG_POINTER_RELEASED: pen released, provides calibrated-filtered pen position. <br/>
</p>
<p>Touchscreen ADS7843 is connected to the microcontroller through SPI and an a signal connected to a PIO corresponding to the pen press detection. Each time a pen press is detected, the microcontroller is notified through the interrupt line triggering a PIO interrupt. <br/>
</p>
<p>The touchscreen driver starts a task suspended until the PIO interrupt handler releases a semaphore. Then the task does measurements until the pen is detected as released. Once the pen is released, the task enters in suspend mode, waiting to get the semaphore ie. waiting for the next pen press detection.</p>
<p class="endli">Related files :<br/>
 <a class="el" href="ads7843_8c.html">ads7843.c</a><br/>
 <a class="el" href="ads7843_8h.html">ads7843.h</a><br/>
 </p>
</li>
</ul>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gac3232fa82a700a925dd2563705185297"></a><!-- doxytag: member="frontend_ADS7843.c::NB_SAMPLES" ref="gac3232fa82a700a925dd2563705185297" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NB_SAMPLES&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of succesive measurements required to get an accurate pen position </p>

<p>Definition at line <a class="el" href="frontend___a_d_s7843_8c_source.html#l00078">78</a> of file <a class="el" href="frontend___a_d_s7843_8c_source.html">frontend_ADS7843.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab64c277271378db4c9320be6210eb4df"></a><!-- doxytag: member="frontend_ADS7843.c::SAMPLING_PERIOD" ref="gab64c277271378db4c9320be6210eb4df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SAMPLING_PERIOD&nbsp;&nbsp;&nbsp;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sampling period (in ms) when pen is pressed to detect pen mouvements </p>

<p>Definition at line <a class="el" href="frontend___a_d_s7843_8c_source.html#l00079">79</a> of file <a class="el" href="frontend___a_d_s7843_8c_source.html">frontend_ADS7843.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="gad552f2b780929f70e65b3beded6aea6c"></a><!-- doxytag: member="frontend_ADS7843.c::gTsCalibrated" ref="gad552f2b780929f70e65b3beded6aea6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="group___s_a_m_g_u_i___w_g_t___touchscreen__frontend.html#gad552f2b780929f70e65b3beded6aea6c">gTsCalibrated</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Binary flag to check if the screen has been calibrated. Calibration calculus is not applied since this flag is not true. Only raw values are sent to the application until the calibration has been done </p>

<p>Definition at line <a class="el" href="frontend___a_d_s7843_8c_source.html#l00085">85</a> of file <a class="el" href="frontend___a_d_s7843_8c_source.html">frontend_ADS7843.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga10aff4f9afa3af13379d2ea61782e177"></a><!-- doxytag: member="frontend_ADS7843.c::sWGT_Frontend_ADS7843" ref="ga10aff4f9afa3af13379d2ea61782e177" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_s_w_g_t_frontend.html">SWGTFrontend</a> sWGT_Frontend_ADS7843</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
    .sData={ .dwId=WGT_FRONTEND_ADS7843 },

    .Initialize=_WFE_ADS7843_Initialize,

    .IOCtl=_WFE_ADS7843_IOCtl
}
</pre></div>
<p>Definition at line <a class="el" href="frontend___a_d_s7843_8c_source.html#l00313">313</a> of file <a class="el" href="frontend___a_d_s7843_8c_source.html">frontend_ADS7843.c</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
