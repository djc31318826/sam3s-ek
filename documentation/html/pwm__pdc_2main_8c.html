<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAM3S Software Package: S:/projets/EK/SAM3S-EK/sam3s_project_trunk/examples/pwm_pdc/main.c File Reference</title>
<link href="common/style.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
    <div id="body">
        <div id="title">SAM3S Software Package 2.1</div>
        <div id="banner"></div>

<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_8daa2f36720c02bc89595e4a26f848fc.html">examples</a>      </li>
      <li><a class="el" href="dir_5d2f5532b5c60dcc119031a1c4ab9edf.html">pwm_pdc</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>main.c File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &quot;<a class="el" href="board_8h_source.html">board.h</a>&quot;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>

<p><a href="pwm__pdc_2main_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pwm__pdc_2main_8c.html#a6177eb86ee16a1956c81749e4e332cf0">PWM_FREQUENCY</a>&nbsp;&nbsp;&nbsp;50</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pwm__pdc_2main_8c.html#a9abf760e232f9c52ed7ca5cfba8b2ec5">MAX_DUTY_CYCLE</a>&nbsp;&nbsp;&nbsp;50</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pwm__pdc_2main_8c.html#a320185cd7e6bf74fbc3d52b7ff4a83d2">MIN_DUTY_CYCLE</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pwm__pdc_2main_8c.html#a0fff8cff7d0c0c6ceb2281ccbf309cb0">DUTY_BUFFER_LENGTH</a>&nbsp;&nbsp;&nbsp;(MAX_DUTY_CYCLE - MIN_DUTY_CYCLE + 1) * 3</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a50473d58b74accb3d06a4da771ef63c3"></a><!-- doxytag: member="pwm_pdc/main.c::PWM_IrqHandler" ref="a50473d58b74accb3d06a4da771ef63c3" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pwm__pdc_2main_8c.html#a50473d58b74accb3d06a4da771ef63c3">PWM_IrqHandler</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt handler for the PWM controller. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pwm__pdc_2main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Application entry point for PWM with PDC example.  <a href="#a840291bc02cba5474a4cb46a9b9566fe"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pwm__pdc_2main_8c.html#a19f25389537f8f0d6dc8e58349663ed7">dutyBuffer</a> [DUTY_BUFFER_LENGTH]</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This file contains all the specific code for the pwm_pdc example. </p>

<p>Definition in file <a class="el" href="pwm__pdc_2main_8c_source.html">main.c</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a0fff8cff7d0c0c6ceb2281ccbf309cb0"></a><!-- doxytag: member="main.c::DUTY_BUFFER_LENGTH" ref="a0fff8cff7d0c0c6ceb2281ccbf309cb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUTY_BUFFER_LENGTH&nbsp;&nbsp;&nbsp;(MAX_DUTY_CYCLE - MIN_DUTY_CYCLE + 1) * 3</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Duty cycle buffer length for three channels </p>

<p>Definition at line <a class="el" href="pwm__pdc_2main_8c_source.html#l00110">110</a> of file <a class="el" href="pwm__pdc_2main_8c_source.html">main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9abf760e232f9c52ed7ca5cfba8b2ec5"></a><!-- doxytag: member="main.c::MAX_DUTY_CYCLE" ref="a9abf760e232f9c52ed7ca5cfba8b2ec5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_DUTY_CYCLE&nbsp;&nbsp;&nbsp;50</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Maximum duty cycle value. </p>

<p>Definition at line <a class="el" href="pwm__pdc_2main_8c_source.html#l00105">105</a> of file <a class="el" href="pwm__pdc_2main_8c_source.html">main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a320185cd7e6bf74fbc3d52b7ff4a83d2"></a><!-- doxytag: member="main.c::MIN_DUTY_CYCLE" ref="a320185cd7e6bf74fbc3d52b7ff4a83d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_DUTY_CYCLE&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Minimum duty cycle value. </p>

<p>Definition at line <a class="el" href="pwm__pdc_2main_8c_source.html#l00107">107</a> of file <a class="el" href="pwm__pdc_2main_8c_source.html">main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6177eb86ee16a1956c81749e4e332cf0"></a><!-- doxytag: member="main.c::PWM_FREQUENCY" ref="a6177eb86ee16a1956c81749e4e332cf0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWM_FREQUENCY&nbsp;&nbsp;&nbsp;50</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PWM frequency in Hz. </p>

<p>Definition at line <a class="el" href="pwm__pdc_2main_8c_source.html#l00102">102</a> of file <a class="el" href="pwm__pdc_2main_8c_source.html">main.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a840291bc02cba5474a4cb46a9b9566fe"></a><!-- doxytag: member="main.c::main" ref="a840291bc02cba5474a4cb46a9b9566fe" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Application entry point for PWM with PDC example. </p>
<p>Outputs a PWM on LED1 &amp; LED2 &amp; LED3 to makes it fade in repeatedly. Channel #0, #1, #2 are linked together as synchronous channels, so they have the same source clock, the same period, the same alignment and are started together. The update of the duty cycle values is made automatically by the Peripheral DMA Controller (PDC).</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Unused (ANSI-C compatibility). </dd></dl>

<p>Definition at line <a class="el" href="pwm__pdc_2main_8c_source.html#l00198">198</a> of file <a class="el" href="pwm__pdc_2main_8c_source.html">main.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pwm__pdc_2main_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph.gif" border="0" usemap="#pwm__pdc_2main_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph" alt=""/></div>
<map name="pwm__pdc_2main_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph" id="pwm__pdc_2main_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph">
<area shape="rect" id="node3" href="pio_8h.html#a1bb66b931fa38004c2178936c269fa76" title="Configures a list of Pin instances, each of which can either hold a single pin or a group of pins..." alt="" coords="569,220,673,249"/><area shape="rect" id="node5" href="pwmc_8h.html#a340b5bbad001afb9ca0c39ae67d0429a" title="Configures PWM a channel with the given parameters, extend configure function." alt="" coords="133,58,325,88"/><area shape="rect" id="node7" href="pwmc_8h.html#a657d8a5cedc4db6b1b230c6099f7ea34" title="Configures PWM clocks A &amp; B to run at the given frequencies." alt="" coords="147,112,312,141"/><area shape="rect" id="node9" href="pwmc_8h.html#a0a183898b7dd1c3332f4834e84437b43" title="Configures Syncronous channel with the given parameters. Beware: At this time, the channels should be..." alt="" coords="128,165,331,194"/><area shape="rect" id="node11" href="pwmc_8h.html#abaa1d4ad2f430cf929d04da8169c5992" title="Disalbe override output." alt="" coords="129,218,329,248"/><area shape="rect" id="node13" href="pwmc_8h.html#a6dca9f0d3c82a96556b0d8797f112153" title="Enables the given PWM channel." alt="" coords="151,272,308,301"/><area shape="rect" id="node15" href="pwmc_8h.html#aa953571f5e0c40a15d2edab98168ae07" title="Enables the selected interrupts sources on a PWMC peripheral." alt="" coords="171,325,288,354"/><area shape="rect" id="node17" href="pwmc_8h.html#a6c65099e3d458c058e40df85c11b270d" title="Enalbe override output." alt="" coords="131,378,328,408"/><area shape="rect" id="node19" href="pwmc_8h.html#ade3831bc9750aa702413f77e6689cb2a" title="Sets the dead time used by a PWM channel. This function writes directly to the DT register if the cha..." alt="" coords="155,432,304,461"/><area shape="rect" id="node21" href="pwmc_8h.html#ad568ae9cc98ca77642950aded8981aab" title="Sets the duty cycle used by a PWM channel. This function writes directly to the CDTY register if the ..." alt="" coords="155,485,304,514"/><area shape="rect" id="node23" href="pwmc_8h.html#a48a044fbe3858d2a1901a45e0f00c5c8" title="Set PWM output override value." alt="" coords="144,538,315,568"/><area shape="rect" id="node25" href="pwmc_8h.html#a89425ddd8a81c74220d9c7786bc6e892" title="Sets the period value used by a PWM channel." alt="" coords="165,592,293,621"/><area shape="rect" id="node27" href="pwmc_8h.html#aac828e13f25cfb86253d8501e0c4b46e" title="Sets the update period of the synchronous channels. This function writes directly to the SCUP registe..." alt="" coords="107,645,352,674"/><area shape="rect" id="node29" href="pwmc_8h.html#a9ad3fafbcf79a6db6ae9b601a194d7c1" title="Sets synchronous channels update unlock." alt="" coords="105,698,353,728"/><area shape="rect" id="node31" href="pwmc_8h.html#ab6461ab0c1697425e1f09370632403e3" title="Sends the contents of buffer through a PWMC peripheral, using the PDC to take care of the transfer..." alt="" coords="163,752,296,781"/><area shape="rect" id="node33" href="uart__console_8c.html#a5c256b8db8ab671a7f88cd2dea8d78b0" title="Input a character from the UART line." alt="" coords="175,805,284,834"/><area shape="rect" id="node38" href="wdt_8h.html#a2c90c26f4d7ba23f6e336bba01f5822b" title="Disable watchdog." alt="" coords="179,858,280,888"/><area shape="rect" id="node35" href="uart__console_8c.html#a09fba0a8855d9bcc8f4411817973a369" title="Configures an USART peripheral with the specified parameters." alt="" coords="403,432,520,461"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a19f25389537f8f0d6dc8e58349663ed7"></a><!-- doxytag: member="main.c::dutyBuffer" ref="a19f25389537f8f0d6dc8e58349663ed7" args="[DUTY_BUFFER_LENGTH]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="pwm__pdc_2main_8c.html#a19f25389537f8f0d6dc8e58349663ed7">dutyBuffer</a>[DUTY_BUFFER_LENGTH]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>duty cycle buffer for PDC transfer </p>

<p>Definition at line <a class="el" href="pwm__pdc_2main_8c_source.html#l00124">124</a> of file <a class="el" href="pwm__pdc_2main_8c_source.html">main.c</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
